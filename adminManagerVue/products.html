<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Products list</title>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vue@2.7.14/dist/vue.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
</head>
<body>
<div id="app">
    <section class="cat-prod-add container my-5">
        <div class="row">
            <div class="col-12 col-md-7">
                <form>
                    <h4>Add Product</h4>
                    <div class="row">
                        <div class="mb-3 col-5">
                            <label for="prodTitle" class="form-label">Title</label>
                            <input v-model.trim="newProduct.title" type="text" class="form-control" id="prodTitle">
                        </div>
                        <div class="mb-3 col-3">
                            <label for="prodCategory" class="form-label">Category</label>
                            <select v-model="newProduct.category" class="form-select" aria-label="Select category" id="prodCategory">
                                <option disabled value="">Select</option>
                                <option v-for="value in categories"
                                        v-bind:value="value">
                                    {{ value }}
                                </option>
                            </select>
                        </div>
                        <div class="mb-3 col-2">
                            <label for="prodPrice" class="form-label">Price</label>
                            <input v-model.number.trim="newProduct.price" type="number" class="form-control" id="prodPrice">
                        </div>
                        <div class="mb-3 col-2">
                            <label for="prodWeight" class="form-label">Weight</label>
                            <input v-model.trim="newProduct.weight" type="text" class="form-control" id="prodWeight">
                        </div>
                        <div class="mb-3 col-12">
                            <label for="prodDesacription" class="form-label">Description</label>
                            <textarea v-model.trim="newProduct.description" class="form-control" id="prodDesacription" rows="3"></textarea>
                        </div>
                    </div>
                    <div class="d-flex justify-content-between  align-items-center">
                        <div class="d-flex gap-4">
                            <div class="form-check form-switch">
                                <input v-model.trim="newProduct.is_available" class="form-check-input" type="checkbox" role="switch" id="prodIsAvailable" checked>
                                <label class="form-check-label" for="prodIsAvailable">Is available</label>
                            </div>
                            <div class="form-check form-switch">
                                <input v-model.trim="newProduct.archived" class="form-check-input" type="checkbox" role="switch" id="prodArchived">
                                <label class="form-check-label" for="prodArchived">Archived</label>
                            </div>
                        </div>
                        <div>
                            <button v-on:click="addNewProduct()"
                                    type="submit" class="btn btn-primary me-3">Add</button>
                            <button type="reset" class="btn btn-outline-secondary">Reset</button>
                        </div>
                    </div>
                </form>
            </div>
            <div class="col-12 col-md-3 offset-0 offset-md-2">
                <form>
                    <h4>Add category</h4>
                        <div class="mb-3">
                            <div>
                                <input v-model.trim="newCategory" type="text" class="form-control" id="categoryInput" placeholder="category name">
                            </div>
                        </div>
                        <div class="mb-3 text-end">
                            <button v-on:click="addNewCategory()"
                                    v-bind:disabled="!newCategory"
                                    type="submit" class="btn btn-primary">Add</button>
                            <button type="reset" class="btn btn-outline-secondary" v-on:click="newCategory = ''">Reset</button>
                        </div>
                </form>
                <section class="menu-setings my-4">
                    <h4>Settings</h4>
                    <div class="form-check form-switch">
                        <input class="form-check-input" type="checkbox" role="switch" id="displayNotAvailableItem">
                        <label class="form-check-label" for="displayNotAvailableItem">Отображать недоступные товары</label>
                    </div>

                </section>
            </div>
        </div>
    </section>
    <section class="product-list container">
        <h4>All products</h4>
        <table class="table table-striped table-hover">
            <thead>
            <tr class="table-primary">
                <th scope="col">is available</th>
                <th scope="col">category</th>
                <th scope="col">title</th>
                <th scope="col">description</th>
                <th scope="col">price</th>
                <th scope="col">weight</th>
            </tr>
            </thead>
            <tbody>
            <tr v-for="product in products" :key="product.id">
                <td>{{ product.is_available }}</td>
                <td>{{ product.category }}</td>
                <td>{{ product.title }}</td>
                <td>{{ product.description}}</td>
                <td>{{ product.price}}</td>
                <td>{{ product.weight}}</td>
            </tr>
            </tbody>
        </table>
    </section>
</div>

<script src="./js/products.js" type="text/javascript"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
</body>
</html>